(this["webpackJsonpformalization-checker-front-end"]=this["webpackJsonpformalization-checker-front-end"]||[]).push([[0],{13:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(7),n=a.n(r),i=a(12),s=a(27),o=function(){var e=Object(i.a)(n.a.mark((function e(t,a){var r,i,o,c=arguments;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]?c[2]:void 0,i={method:a,headers:{"Content-Type":"application/json"}},void 0!==localStorage.getItem("token")&&(i.headers.Authorization="Bearer "+localStorage.getItem("token")),r&&(i.body=JSON.stringify(r)),e.next=6,fetch(s.BACKEND_URL+t,i);case 6:if(!(o=e.sent).ok){e.next=9;break}return e.abrupt("return",o.json());case 9:throw new Error(o.status+" "+o.statusText);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},15:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return p})),a.d(t,"h",(function(){return v})),a.d(t,"g",(function(){return E})),a.d(t,"d",(function(){return b})),a.d(t,"f",(function(){return h}));var r,n=a(6),i=a(7),s=a.n(i),o=a(12),c=a(8),l=a(13),u=Object(c.b)("user/logIn",function(){var e=Object(o.a)(s.a.mark((function e(t,a){var r,n,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.username,n=t.password,i=a.rejectWithValue,e.prev=2,(o={}).username=r,o.password=n,e.next=8,Object(l.a)("/api/exercises/logIn","POST",o);case 8:return c=e.sent,e.abrupt("return",c);case 12:return e.prev=12,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return",i(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,a){return e.apply(this,arguments)}}()),d=Object(c.b)("user/logInGithub",function(){var e=Object(o.a)(s.a.mark((function e(t,a){var r,n,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.code,n=a.rejectWithValue,e.prev=2,(i={}).code=r,e.next=7,Object(l.a)("/api/exercises/logIn/github/auth","POST",i);case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(2),console.error(e.t0.message),e.abrupt("return",n(e.t0.message));case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t,a){return e.apply(this,arguments)}}()),m=Object(c.c)({name:"user",initialState:{isLoggedIn:!1,isAdmin:!1,user:null,status:"idle",error:null,usernameValue:"",passwordValue:""},reducers:{updateUsername:function(e,t){e.usernameValue=t.payload},updatePassword:function(e,t){e.passwordValue=t.payload},logOut:function(e){localStorage.removeItem("token"),e.isLoggedIn=!1,e.user=null,e.status="idle",e.error=""},setUser:function(t){var a=JSON.parse(e.from(localStorage.getItem("token").split(".")[1],"base64").toString());t.user={username:a.username},t.isLoggedIn=!0,t.isAdmin=a.isAdmin}},extraReducers:(r={},Object(n.a)(r,u.pending,(function(e,t){e.status="loading"})),Object(n.a)(r,u.fulfilled,(function(t,a){if(t.status="succeeded",t.usernameValue="",t.passwordValue="",a.payload){var r=JSON.parse(e.from(a.payload.token.split(".")[1],"base64").toString());t.user={username:r.username},t.isLoggedIn=!0,t.isAdmin=r.isAdmin,localStorage.token=a.payload.token}else t.error=""})),Object(n.a)(r,u.rejected,(function(e,t){e.status="failed",e.error="No such combination of username and password found."})),Object(n.a)(r,d.pending,(function(e,t){e.status="loading"})),Object(n.a)(r,d.fulfilled,(function(t,a){if(t.status="succeeded",t.usernameValue="",t.passwordValue="",a.payload){var r=JSON.parse(e.from(a.payload.token.split(".")[1],"base64").toString());t.user={username:r.username},t.isLoggedIn=!0,t.isAdmin=r.isAdmin,localStorage.setItem("token",a.payload.token)}else t.error=""})),Object(n.a)(r,d.rejected,(function(e,t){e.status="failed",e.error="No such combination of username and password found."})),r)}),p=function(e){return e.user.user.username},f=m.actions,v=f.updateUsername,E=f.updatePassword,b=f.logOut,h=f.setUser;t.a=m.reducer}).call(this,a(84).Buffer)},27:function(e,t,a){a(81).config(),e.exports={BACKEND_URL:"https://student.dai.fmph.uniba.sk/services/formalization-checker",CLIENT_ID:"440fde1ff83dc0bb86f6",REDIRECT:"https://fmfi-uk-1-ain-412.github.io/formalization-checker/login",BASE_NAME:"/formalization-checker"}},61:function(e,t,a){e.exports=a(94)},71:function(e,t,a){},89:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(24),s=a.n(i),o=a(5),c=(a(71),a(8)),l=a(22),u=a(6),d=a(7),m=a.n(d),p=a(12),f=a(42),v=a(20),E=a(13),b=a(39),h=a(49),g=a(31),x=a(30),j=a(16),y=a(29),O=function(){function e(t,a){Object(j.a)(this,e),this.lhs=t,this.rhs=a}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){var e=P(new Set,this.lhs.getFreeVariables());return P(e,this.rhs.getFreeVariables())}}]),e}(),k=function(){function e(t,a){Object(j.a)(this,e),this.originalSymbol=t,this.subf=a}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){var e=this.subf.getFreeVariables();return e.delete(this.originalSymbol),e}}]),e}(),w=function(){function e(t){Object(j.a)(this,e),this.originalSymbol=t}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){return new Set([this.originalSymbol])}}]),e}(),S=function(){function e(t){Object(j.a)(this,e),this.originalSymbol=t}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){return new Set}}]),e}(),_=function(){function e(t,a){Object(j.a)(this,e),this.originalSymbol=t,this.args=a}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){return this.args.reduce((function(e,t){return P(e,t.getFreeVariables())}),new Set)}}]),e}(),C=function(){function e(t,a){Object(j.a)(this,e),this.originalSymbol=t,this.args=a}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){return this.args.reduce((function(e,t){return P(e,t.getFreeVariables())}),new Set)}}]),e}(),N=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(O),z=function(){function e(t){Object(j.a)(this,e),this.subf=t}return Object(y.a)(e,[{key:"getFreeVariables",value:function(){return this.subf.getFreeVariables()}}]),e}(),A=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(O),T=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(O),F=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(O),L=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(O),V=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(k),I=function(e){Object(g.a)(a,e);var t=Object(x.a)(a);function a(){return Object(j.a)(this,a),t.apply(this,arguments)}return a}(k);function P(e,t){return t.forEach((function(t){return e.add(t)})),e}var U,W=function(e){var t,a=new Map,r=Object(l.a)(e);try{for(r.s();!(t=r.n()).done;){var n=t.value;a.has(n.name)||a.set(n.name,n.arity)}}catch(i){r.e(i)}finally{r.f()}return a},G=function(e,t){try{return{array:t(e),error:null}}catch(a){return{array:[],error:a}}},R=function(e,t,a,r){var n=r.expected,i=a.get(e);t.length!==i&&n("".concat(i," argument").concat(1===i?"":"s"," to ").concat(e))},D=function(e,t,a,r,n){var i=new Set([].concat(Object(h.a)(t),Object(h.a)(a.keys()),Object(h.a)(r.keys()))),s={isConstant:function(e){return t.has(e)},isPredicate:function(e){return a.has(e)},isFunction:function(e){return r.has(e)},isVariable:function(e){return!i.has(e)}},o={functionApplication:function(e,t,a){return R(e,t,r,a),new _(e,t)},predicateAtom:function(e,t,r){return R(e,t,a,r),new C(e,t)},variable:function(e,t){return new w(e,e)},constant:function(e,t){return new S(e,e)},equalityAtom:function(e,t,a){return new N(e,t)},negation:function(e,t){return new z(e)},conjunction:function(e,t,a){return new A(e,t)},disjunction:function(e,t,a){return new T(e,t)},implication:function(e,t,a){return new F(e,t)},equivalence:function(e,t,a){return new L(e,t)},existentialQuant:function(e,t,a){return new V(e,t)},universalQuant:function(e,t,a){return new I(e,t)}};try{var c=n(e,s,o);if(0!==(c=c.getFreeVariables()).size){var u,d="",m=Object(l.a)(c);try{for(m.s();!(u=m.n()).done;){d+=u.value+" "}}catch(p){m.e(p)}finally{m.f()}throw{location:{start:{column:0,line:0,offset:0},end:{column:0,line:0,offset:0}},message:"Expected  existential quantifier or universal quantifier but following free "+(1===c.size?"variable ":"variables ")+d+"found."}}return null}catch(f){return f}};function q(e,t,a){var r="\ud835\udc9f = {",n="",i=0;if(""===e)return["",""];for(var s=0,o=Object.entries(t);s<o.length;s++){var c=Object(b.a)(o[s],2),l=c[0],u=c[1];a.includes(l)&&(n+="\ud835\udc56("+l+") = "+u+"\n"),u<=i||(r+=u+", ",i++)}return n+="\n",r=r.slice(0,r.length-2),[r+="}\n",n+=function(e){for(var t="",a=0,r=Object.entries(e);a<r.length;a++){var n=Object(b.a)(r[a],2),i=n[0],s=n[1];if(t+="\ud835\udc56("+i+") = {",void 0!==s[s.length-1]){for(var o=0;o<s.length-1;o++)void 0!==s[o]&&(1===s[o].length?t+=s[o]+", ":t+="("+s[o]+"), ");1===s[s.length-1].length?t+=s[s.length-1]+"}\n":t+="("+s[s.length-1]+")}\n"}else t+="}\n"}return t}(e)]}var M=Object(c.b)("addExercise/addNewExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState,n=a.rejectWithValue,i=_e(r())){e.next=4;break}return e.abrupt("return",n("Exercise contains errors."));case 4:return e.prev=4,e.next=7,Object(E.a)("/api/exercises","POST",i);case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",n(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()),B=Object(c.b)("saveExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState,n=a.rejectWithValue,i=_e(r())){e.next=4;break}return e.abrupt("return",n("Exercise contains errors."));case 4:return e.prev=4,e.next=7,Object(E.a)("/api/exercises/edit","POST",i);case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",n(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()),J=Object(c.b)("saveExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a.getState,n=a.rejectWithValue,i=_e(r())){e.next=4;break}return e.abrupt("return",n("Exercise contains errors."));case 4:return e.prev=4,e.next=7,Object(E.a)("/api/exercises/edit/remove","POST",i);case 7:return s=e.sent,e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",n(e.t0.message));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()),K=Object(c.b)("fetchSavedExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getState,r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises/edit/".concat(t),"GET");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),H=Object(c.b)("fetchExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises/".concat(t),"GET");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Q=Object(c.c)({name:"addExercise",initialState:{title:"",description:"",constants:"",predicates:"",functions:"",constraint:"",id:"",propositions:[{proposition:"",proposition_id:"",formalizations:[""],constraints:[""]}],status:"idle",error:null,added:null},reducers:{updateExerciseTitle:function(e,t){e.title=t.payload},updateDescription:function(e,t){e.description=t.payload},updateConstants:function(e,t){e.constants=t.payload},updatePredicates:function(e,t){e.predicates=t.payload},updateFunctions:function(e,t){e.functions=t.payload},updateConstraint:function(e,t){e.constraint=t.payload},updateInformalValue:{reducer:function(e,t){var a=t.payload,r=a.value,n=a.i;e.propositions[n].proposition=r},prepare:function(e,t){return{payload:{value:e,i:t}}}},updateFormalization:{reducer:function(e,t){var a=t.payload,r=a.value,n=a.i,i=a.j;e.propositions[n].formalizations[i]=r},prepare:function(e,t,a){return{payload:{value:e,i:t,j:a}}}},addNewProposition:function(e){e.propositions.push({proposition:"",formalizations:[""],constraints:[""]})},addNewFormalization:function(e,t){var a=t.payload;e.propositions[a].formalizations.push(""),e.propositions[a].constraints.push("")},removeProposition:function(e,t){var a=t.payload;e.propositions.splice(a,1)},removeFormalization:{reducer:function(e,t){var a=t.payload,r=a.i,n=a.j;e.propositions[r].formalizations.splice(n,1),e.propositions[r].constraints.splice(n,1)},prepare:function(e,t){return{payload:{i:e,j:t}}}},updateConstraints:{reducer:function(e,t){var a=t.payload,r=a.value,n=a.i,i=a.j;e.propositions[n].constraints[i]=r},prepare:function(e,t,a){return{payload:{value:e,i:t,j:a}}}},changeStatus:{reducer:function(e,t){e.added=null,e.status="idle",e.title="",e.description="",e.constants="",e.predicates="",e.functions="",e.constraint="",e.id="",e.propositions=[{proposition:"",proposition_id:"",formalizations:[""],constraints:[""]}]}}},extraReducers:(U={},Object(u.a)(U,M.pending,(function(e,t){e.status="loading"})),Object(u.a)(U,M.fulfilled,(function(e,t){e.added=!0,e.title="",e.description="",e.constants="",e.predicates="",e.functions="",e.constraint="",e.propositions=[{proposition:"",formalizations:[""],constraints:[""]}],e.status="idle"})),Object(u.a)(U,M.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(U,B.pending,(function(e,t){e.status="loading"})),Object(u.a)(U,B.fulfilled,(function(e,t){e.status="succeeded",e.title="",e.description="",e.constants="",e.predicates="",e.functions="",e.constraint="",e.id="",e.propositions=[{proposition:"",proposition_id:"",formalizations:[""],constraints:[""]}]})),Object(u.a)(U,B.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(U,J.pending,(function(e,t){e.status="loading"})),Object(u.a)(U,J.fulfilled,(function(e,t){e.status="removed",e.title="",e.description="",e.constants="",e.predicates="",e.functions="",e.constraint="",e.id="",e.propositions=[{proposition:"",proposition_id:"",formalizations:[""],constraints:[""]}]})),Object(u.a)(U,J.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(U,H.pending,(function(e,t){e.status="loading"})),Object(u.a)(U,H.fulfilled,(function(e,t){e.status="succeeded"})),Object(u.a)(U,H.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(U,K.pending,(function(e,t){e.status="loading"})),Object(u.a)(U,K.fulfilled,(function(e,t){e.status="idle";var a=t.payload;e.title=a.title,e.description=a.description,e.constants=a.constants,e.predicates=a.predicates,e.functions=a.functions,e.constraint=void 0===a.constraints?"":a.constraints,e.id=a.exercise_id,e.propositions=[];for(var r=0;r<a.propositions.length;r++){for(var n=[],i=[],s=0;s<a.propositions[r].formalization.length;s++)n.push(a.propositions[r].formalization[s].formalization),i.push(a.propositions[r].formalization[s].constraints);e.propositions.push({proposition:a.propositions[r].proposition,proposition_id:a.propositions[r].proposition_id,formalizations:n,constraints:i})}})),Object(u.a)(U,K.rejected,(function(e,t){e.status="failed",e.error=t.payload})),U)}),Y=Q.actions,$=Y.updateExerciseTitle,X=Y.updateDescription,Z=Y.updateConstants,ee=Y.updatePredicates,te=Y.updateFunctions,ae=Y.updateInformalValue,re=Y.updateFormalization,ne=Y.addNewProposition,ie=Y.addNewFormalization,se=Y.removeProposition,oe=Y.removeFormalization,ce=Y.updateConstraints,le=Y.updateConstraint,ue=Y.changeStatus;function de(e,t){var a,r=new Set,n=Object(l.a)(e);try{for(n.s();!(a=n.n()).done;){var i=a.value;if(r.has(i))return"Found duplicate symbol: '".concat(i,"' in ").concat(t);r.add(i)}}catch(s){n.e(s)}finally{n.f()}return null}var me,pe,fe,ve,Ee=function(e){return{value:e.addExercise.title}},be=Object(f.a)([function(e){return e.addExercise.constants}],(function(e){var t=G(e,v.parseConstants);return{value:e,array:t.array,error:t.error}})),he=Object(f.a)([function(e){return e.addExercise.predicates}],(function(e){var t=G(e,v.parsePredicates);return{value:e,array:t.array,error:t.error}})),ge=Object(f.a)([function(e){return e.addExercise.functions}],(function(e){var t=G(e,v.parseFunctions);return{value:e,array:t.array,error:t.error}})),xe=Object(f.a)([be,he,ge],(function(e,t,a){var r=new Set(e.array),n=W(t.array),i=W(a.array),s=e.error||t.error||a.error,o=de(e.array,"constants")||de(t.array.map((function(e){return e.name})),"predicates")||de(a.array.map((function(e){return e.name})),"functions"),c=null;return c=s?"Language definition contains errors":o||function(e,t,a){var r,n=Object(l.a)(e);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(t.has(i))return"Found clash in language definition: '".concat(i,"' in constants and predicates");if(a.has(i))return"Found clash in language definition: '".concat(i,"' in constants and functions")}}catch(u){n.e(u)}finally{n.f()}var s,o=Object(l.a)(t.keys());try{for(o.s();!(s=o.n()).done;){var c=s.value;if(a.has(c))return"Found clash in language definition: '".concat(c,"' in predicates and functions")}}catch(u){o.e(u)}finally{o.f()}return null}(r,n,i),{constants:r,predicates:n,functions:i,errorMessage:c}})),je=function(e){return e.addExercise.propositions},ye=function(e,t){return e.addExercise.propositions[t].formalizations},Oe=function(e,t){return e.addExercise.propositions[t].proposition},ke=Object(f.a)([function(e,t,a){return e.addExercise.propositions[t].formalizations[a]},function(e,t,a){return xe(e)}],(function(e,t){return{value:e,error:D(e,t.constants,t.predicates,t.functions,v.parseFormulaWithPrecedence)}})),we=Object(f.a)([function(e,t,a){return e.addExercise.propositions[t].constraints[a]},function(e,t,a){return xe(e)}],(function(e,t){return""===e?{value:e,error:""}:{value:e,error:D(e,t.constants,t.predicates,t.functions,v.parseFormulaWithPrecedence)}})),Se=Object(f.a)([function(e){return e.addExercise.constraint},function(e){return xe(e)}],(function(e,t){return""===e?{value:e,error:""}:{value:e,error:D(e,t.constants,t.predicates,t.functions,v.parseFormulaWithPrecedence)}})),_e=function(e){if(xe(e).errorMessage||""===Ee(e).value)return null;for(var t=je(e),a=0;a<t.length;a++){if(""===t[a].proposition)return null;for(var r=t[a].formalizations,n=0;n<r.length;n++){if(ke(e,a,n).error)return null;if(we(e,a,n).error)return null}}return{title:e.addExercise.title,description:e.addExercise.description,constants:e.addExercise.constants,predicates:e.addExercise.predicates,functions:e.addExercise.functions,constraint:e.addExercise.constraint,id:e.addExercise.id,propositions:e.addExercise.propositions}},Ce=function(e){return!_e(e)},Ne=Q.reducer,ze=Object(c.b)("exercises/fetchAllExercises",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises","GET");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Ae=Object(c.c)({name:"exercises",initialState:{exercises:[],status:"idle",error:null},reducers:{changeExerciseStatus:{reducer:function(e,t){e.added=null,e.status="idle"}}},extraReducers:(me={},Object(u.a)(me,ze.pending,(function(e,t){e.status="loading"})),Object(u.a)(me,ze.fulfilled,(function(e,t){e.status="succeeded",e.exercises=t.payload})),Object(u.a)(me,ze.rejected,(function(e,t){e.status="failed",e.error=t.payload})),me)}),Te=Ae.actions.changeExerciseStatus,Fe=function(e){return e.exercises.exercises},Le=function(e){return e.exercises.status},Ve=function(e){return e.exercises.error},Ie=Ae.reducer,Pe=Object(c.b)("exercises/fetchAllUsersToExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises/progress/".concat(t),"GET");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),Ue=Object(c.b)("exercises/fetchUsersSolutions",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.exercise_id,n=t.user_name,i=a.rejectWithValue,e.prev=2,e.next=5,Object(E.a)("/api/exercises/progress/user/".concat(n,"/").concat(r),"GET");case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),We=Object(c.c)({name:"users",initialState:{users:[],status:"idle",error:null,solutions:[],exercise_id:null,user:""},reducers:{},extraReducers:(pe={},Object(u.a)(pe,Pe.pending,(function(e,t){e.status="loading",e.exercise_id=t.meta.arg})),Object(u.a)(pe,Pe.fulfilled,(function(e,t){e.status="succeeded",e.users=t.payload})),Object(u.a)(pe,Pe.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(pe,Ue.pending,(function(e,t){e.status="loading",e.user=t.meta.arg.user_name})),Object(u.a)(pe,Ue.fulfilled,(function(e,t){e.status="succeeded",e.solutions=t.payload})),Object(u.a)(pe,Ue.rejected,(function(e,t){e.status="failed",e.error=t.payload})),pe)}),Ge=function(e){return e.propositions.users},Re=function(e){for(var t=0;t<e.exercises.exercises.length;t++)if(e.exercises.exercises[t].exercise_id===e.propositions.exercise_id)return e.exercises.exercises[t].title;return null},De=function(e){return e.propositions.solutions},qe=function(e){return e.propositions.user},Me=function(e){return e.propositions.status},Be=function(e){return e.propositions.status},Je=We.reducer,Ke=Object(c.b)("solveExercise/fetchExercise",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.exercise_id,n=t.user_name,i=a.rejectWithValue,e.prev=2,e.next=5,Object(E.a)("/api/exercises/".concat(r),"POST",{username:n});case 5:return s=e.sent,e.abrupt("return",s);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),He=Object(c.b)("solveExercise/evaluate",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n,i,s,o,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.exercise_id,n=t.proposition_id,i=t.solution,s=t.user,o=a.rejectWithValue,e.prev=2,e.next=5,Object(E.a)("/api/exercises/".concat(r,"/").concat(n),"POST",{solution:i,user:s});case 5:return c=e.sent,e.abrupt("return",c);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",o(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()),Qe=Object(c.c)({name:"solveExercise",initialState:{exercise:null,status:"idle",error:null,constants:[],predicates:[],functions:[],solutions:{}},reducers:{update:{reducer:function(e,t){var a=t.payload,r=a.value,n=a.id;e.solutions[n].solution=r},prepare:function(e,t){return{payload:{value:e,id:t}}}}},extraReducers:(fe={},Object(u.a)(fe,Ke.pending,(function(e,t){e.status="loading"})),Object(u.a)(fe,Ke.fulfilled,(function(e,t){e.status="succeeded",e.exercise=t.payload,e.constants=Object(v.parseConstants)(e.exercise.constants),e.predicates=Object(v.parsePredicates)(e.exercise.predicates),e.functions=Object(v.parseFunctions)(e.exercise.functions);var a,r=Object(l.a)(e.exercise.propositions);try{for(r.s();!(a=r.n()).done;){var n=a.value;e.solutions[n.proposition_id]={evaluation:null,status:"idle",error:null},null===n.solution||void 0===n.solution?e.solutions[n.proposition_id].solution="":e.solutions[n.proposition_id].solution=n.solution}}catch(i){r.e(i)}finally{r.f()}})),Object(u.a)(fe,Ke.rejected,(function(e,t){e.status="failed",e.error=t.payload})),Object(u.a)(fe,He.pending,(function(e,t){var a=t.meta.arg.proposition_id;e.solutions[a].status="loading"})),Object(u.a)(fe,He.fulfilled,(function(e,t){var a=t.meta.arg.proposition_id,r=t.payload,n=e.solutions[a];n.status="succeeded",n.evaluation=r})),Object(u.a)(fe,He.rejected,(function(e,t){var a=t.meta.arg.proposition_id,r=t.payload.error,n=e.solutions[a];n.status="failed",n.error=r})),fe)}),Ye=Qe.actions.update,$e=function(e){return e.solveExercise.exercise},Xe=function(e){return e.solveExercise.status},Ze=function(e){return e.solveExercise.error},et=function(e,t){return e.solveExercise.solutions[t].evaluation},tt=function(e,t){return e.solveExercise.solutions[t].status},at=function(e,t){return e.solveExercise.solutions[t].error},rt=Qe.reducer,nt=a(15),it=Object(c.b)("users",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises/allUsers/".concat(t),"GET");case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),st=Object(c.b)("admins",function(){var e=Object(p.a)(m.a.mark((function e(t,a){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.rejectWithValue,e.prev=1,e.next=4,Object(E.a)("/api/exercises/allUsers","POST",t);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",r(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()),ot=Object(c.c)({name:"admins",initialState:{users:[""],status:"idle",error:null,changed:{}},reducers:{addChanged:function(e,t){e.changed[t.payload]=!e.changed[t.payload]}},extraReducers:(ve={},Object(u.a)(ve,it.pending,(function(e,t){e.status="loading"})),Object(u.a)(ve,it.fulfilled,(function(e,t){e.status="succeeded",e.users=t.payload;for(var a=0;a<e.users.length;a++)e.changed[e.users[a].user_name]=e.users[a].is_admin})),Object(u.a)(ve,it.rejected,(function(e,t){e.status="failed",e.error="There are no users"})),Object(u.a)(ve,st.pending,(function(e,t){e.status="loading"})),Object(u.a)(ve,st.fulfilled,(function(e,t){e.status="succeeded",e.users=[];for(var a=0,r=Object.entries(t.payload);a<r.length;a++){var n=Object(b.a)(r[a],2),i=n[0],s=n[1];e.users.push({user_name:i,is_admin:s})}})),Object(u.a)(ve,st.rejected,(function(e,t){e.status="failed",e.error="Unsuccessful saving admins"})),ve)}),ct=function(e){return e.allUsers.users},lt=function(e){return e.allUsers.status},ut=function(e){return e.allUsers.error},dt=function(e){return e.allUsers.changed},mt=ot.actions.addChanged,pt=ot.reducer,ft=Object(c.a)({reducer:{addExercise:Ne,exercises:Ie,propositions:Je,allUsers:pt,solveExercise:rt,user:nt.a}}),vt=(a(88),a(89),a(97)),Et=a(101),bt=a(103),ht=a(99),gt=a(102),xt=a(10),jt=a(9),yt=a(48),Ot=["isLoggedIn","component","location"];var kt=Object(o.b)((function(e){return{isLoggedIn:e.user.isLoggedIn}}))((function(e){var t=e.isLoggedIn,a=e.component,r=e.location,i=Object(yt.a)(e,Ot);return n.a.createElement(jt.b,Object.assign({},i,{render:function(){return t?n.a.createElement(a,null):n.a.createElement(jt.a,{to:{pathname:"/login",state:{from:r}}})}}))})),wt=a(96),St=a(100),_t=a(27);var Ct={updateUsername:nt.h,updatePassword:nt.g,logIn:nt.b,logInByGithub:nt.c,setUser:nt.f},Nt=Object(o.b)((function(e){return{usernameValue:e.user.usernameValue,passwordValue:e.user.passwordValue,isLoggedIn:e.user.isLoggedIn,status:e.user.status,error:e.user.error}}),Ct)((function(e){var t=e.usernameValue,a=e.passwordValue,i=e.updateUsername,s=e.updatePassword,o=e.setUser,c=e.location,l=e.isLoggedIn,u=e.status,d=e.error,m=e.logIn,p=e.logInByGithub;return Object(r.useEffect)((function(){null!==localStorage.getItem("token")&&o()}),[u,o]),"loading"===u?n.a.createElement(wt.a,{animation:"border",variant:"primary"}):window.location.href.match("code")?(p({code:window.location.href.split("code=")[1]}),n.a.createElement(jt.a,{to:"/"})):l?c.state&&c.state.from&&c.state.from.pathname?n.a.createElement(jt.a,{to:c.state.from.pathname}):n.a.createElement(jt.a,{to:"/"}):n.a.createElement(St.a,null,n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Username"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter username",value:t,onChange:function(e){return i(e.target.value)}})),n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Password"),n.a.createElement(St.a.Control,{type:"password",placeholder:"Enter password",value:a,onChange:function(e){return s(e.target.value)}}),n.a.createElement(St.a.Text,{className:"text-danger"},d)),n.a.createElement(vt.a,{type:"submit",onClick:function(e){e.preventDefault(),m({username:t,password:a})}},"Log in"),n.a.createElement(vt.a,{type:"submit",onClick:function(e){e.preventDefault();var t="https://github.com/login/oauth/authorize?client_id="+_t.CLIENT_ID+"&redirect_uri="+_t.REDIRECT+"&scope=read:user";window.location.replace(t)}},"Log in with Github"))})),zt=a(104);var At={fetchAllExercises:ze,fetchExercise:Ke},Tt=Object(o.b)((function(e){return{exercises:Fe(e),username:Object(nt.e)(e),status:Le(e),error:Ve(e)}}),At)((function(e){var t=e.exercises,a=e.status,i=e.error,s=e.fetchAllExercises,o=e.fetchExercise,c=e.username;Object(r.useEffect)((function(){"idle"===a&&s()}),[a,s]);var l=null;if("loading"===a)l=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===a){var u=t.map((function(e){return n.a.createElement(zt.a.Item,{as:xt.b,to:"/solve/".concat(e.exercise_id),key:e.exercise_id,variant:"primary",action:!0,onClick:function(){return o({exercise_id:e.exercise_id,user_name:c})}},e.title)}));l=n.a.createElement(zt.a,null,u)}else"failed"===a&&(l=n.a.createElement(gt.a,{variant:"danger"},i));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"},"Exercises"),l)}));var Ft=function(e){var t=e.value,a=e.error;if(!a)return null;var r=a.location.start.offset,i=a.location.end.offset,s=t.substring(0,r),o=t.substring(r,i),c=t.substring(i),l=""===t?null:n.a.createElement("div",null,s,n.a.createElement("u",{className:"bg-warning"},o),c);return n.a.createElement(St.a.Text,{className:"mb-3"},l,n.a.createElement("div",{className:"text-danger"},a.message))};var Lt=Object(o.b)((function(e,t){return{evaluation:et(e,t.proposition_id),status:tt(e,t.proposition_id),error:at(e,t.proposition_id)}}))((function(e){var t=e.evaluation,a=e.status,r=e.error,i=null;return"loading"===a?i=n.a.createElement(wt.a,{animation:"border",variant:"primary"}):"succeeded"===a?i=Vt(t):"failed"===a&&(i=n.a.createElement(gt.a,{variant:"danger"},r)),i})),Vt=function(e){if("OK"===e.solutionToFormalization&&"OK"===e.formalizationToSolution)return n.a.createElement(gt.a,{variant:"success"},n.a.createElement("b",null,"Rie\u0161enie je spr\xe1vne."));if("TE"===e.solutionToFormalization||"TE"===e.formalizationToSolution||"ME"===e.solutionToFormalization||"ME"===e.formalizationToSolution)return n.a.createElement(gt.a,{variant:"warning"},n.a.createElement("p",null," Dokazova\u010du sa nepodarilo zisti\u0165, \u010di je va\u0161e rie\u0161enie spr\xe1vne alebo nespr\xe1vne. Na spr\xe1vnos\u0165 v\xe1\u0161ho rie\u0161enia sa sp\xfdtajte."));var t=q(e.symbolsFormalizationToSolution,e.domainFormalizationToSolution,e.languageContants),a=t[0],r=t[1],i=(t=q(e.symbolsSolutionToFormalization,e.domainSolutionToFormalization,e.languageContants))[0],s=t[1];return"OK"===e.solutionToFormalization&&"WA"===e.formalizationToSolution?"null"!==e.iFormalizationSolution?n.a.createElement(gt.a,{variant:"danger"},n.a.createElement("details",{open:"true"},n.a.createElement("summary",null,n.a.createElement("b",null,"Rie\u0161enie je nespr\xe1vne."),n.a.createElement("p",null,"Vieme n\xe1js\u0165 konkr\xe9tnu \u0161trukt\xfaru, v ktorej je h\u013eadan\xe1 spr\xe1vna formaliz\xe1cia pravdiv\xe1, ale va\u0161a formaliz\xe1cia je nepravdiv\xe1.")),n.a.createElement("p",null,e.m1),n.a.createElement("p",null,a),r.split("\n").map((function(e,t){return n.a.createElement("div",{className:"p",key:t},e)})),n.a.createElement("br",null))):n.a.createElement(gt.a,{variant:"danger"},n.a.createElement("details",{open:"true"},n.a.createElement("summary",null,n.a.createElement("b",null,"Rie\u0161enie je nespr\xe1vne."),n.a.createElement("p",null,"Nepodarilo sa n\xe1js\u0165 \u0161trukt\xfaru, na va\u0161e rie\u0161enie sa rad\u0161ej op\xfdtajte.")))):"WA"===e.solutionToFormalization&&"OK"===e.formalizationToSolution?"null"!==e.iSolutionToFormalization?n.a.createElement(gt.a,{variant:"danger"},n.a.createElement("details",{open:"true"},n.a.createElement("summary",null," ",n.a.createElement("b",null,"Rie\u0161enie je nespr\xe1vne."),n.a.createElement("p",null,"Vieme n\xe1js\u0165 konkr\xe9tnu \u0161trukt\xfaru, v ktorej je va\u0161a formaliz\xe1cia pravdiv\xe1, ale h\u013eadan\xe1 spr\xe1vna formaliz\xe1cia je nepravdiv\xe1.")," "),n.a.createElement("p",null,e.m2),n.a.createElement("p",null,i),s.split("\n").map((function(e,t){return n.a.createElement("div",{className:"p",key:t},e)})))):n.a.createElement(gt.a,{variant:"danger"},n.a.createElement("details",{open:"true"},n.a.createElement("summary",null,n.a.createElement("b",null,"Rie\u0161enie je nespr\xe1vne."),n.a.createElement("p",null,"Nepodarilo sa n\xe1js\u0165 \u0161trukt\xfaru, na va\u0161e rie\u0161enie sa rad\u0161ej op\xfdtajte.")))):n.a.createElement(gt.a,{variant:"danger"},n.a.createElement("details",{open:"true"},n.a.createElement("summary",null,n.a.createElement("b",null,"Rie\u0161enie je nespr\xe1vne."),n.a.createElement("p",null,"Vieme n\xe1js\u0165 konkr\xe9tne \u0161trukt\xfary, v ktor\xfdch je va\u0161a formaliz\xe1cia pravdiv\xe1, ale h\u013eadan\xe1 spr\xe1vna formaliz\xe1cia je nepravdiv\xe1, a naopak.")),n.a.createElement("p",null,e.m2),n.a.createElement("p",null,i),s.split("\n").map((function(e,t){return n.a.createElement("div",{className:"p",key:t},e)})),n.a.createElement("p",null,e.m1),n.a.createElement("p",null,a),r.split("\n").map((function(e,t){return n.a.createElement("div",{className:"p",key:t},e)}))))};var It={update:Ye,evaluate:He},Pt=Object(o.b)((function(e,t){return function(e,t){var a=e.solveExercise.solutions[t].solution;return{value:a,error:D(a,new Set(e.solveExercise.constants),W(e.solveExercise.predicates),W(e.solveExercise.functions),v.parseFormulaWithPrecedence)}}(e,t.proposition_id)}),It)((function(e){var t=e.exercise_id,a=e.proposition_id,r=e.proposition,i=e.value,s=e.error,o=e.update,c=e.evaluate,l=e.user;return n.a.createElement("div",{className:"clearfix mt-4"},n.a.createElement(St.a.Group,{className:"clearfix"},n.a.createElement(St.a.Label,null,r),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter formalization",as:"textarea",rows:1,value:i,onChange:function(e){return o(e.target.value,a)}}),n.a.createElement(vt.a,{className:"mt-1 float-right",variant:"primary",disabled:s,onClick:function(){return c({exercise_id:t,proposition_id:a,solution:i,user:l})}},"Check"),n.a.createElement(Ft,{value:i,error:s})),n.a.createElement(Lt,{proposition_id:a}))}));var Ut={fetchExercise:Ke},Wt=Object(o.b)((function(e){return{exercise:$e(e),status:Xe(e),error:Ze(e),user:Object(nt.e)(e)}}),Ut)((function(e){e.match;var t=e.exercise,a=e.status,i=e.error,s=e.fetchExercise,o=e.user,c=Object(jt.g)().id;Object(r.useEffect)((function(){"idle"===a&&s({exercise_id:c,username:o})}),[a,c,t,s]);var l=null;if("loading"===a)l=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===a){var u=t.propositions.map((function(e){return n.a.createElement(Pt,{key:e.proposition_id,exercise_id:c,proposition_id:e.proposition_id,proposition:e.proposition,user:o})}));l=n.a.createElement("div",null,n.a.createElement("h2",null,t.title),n.a.createElement("h5",{className:"mt-4"},"Constants"),n.a.createElement("p",null,t.constants),n.a.createElement("h5",{className:"mt-4"},"Predicates"),n.a.createElement("p",null,t.predicates),n.a.createElement("h5",{className:"mt-4"},"Functions"),n.a.createElement("p",null,t.functions),n.a.createElement("h5",{className:"mt-4"},"Description"),n.a.createElement("p",null,t.description),n.a.createElement("details",null,n.a.createElement("summary",{className:"mt-4"},"Symbols which are accepted"),n.a.createElement("p",null," Negation symbols : \xac, -, !, ~, \\neg, \\lnot ",n.a.createElement("br",null),"Equality symbols : =, \u2250",n.a.createElement("br",null),"Inequality symbols : \u2260, !=, /=, \\neq, ","<",">",n.a.createElement("br",null),"Conjunction symbols : \\wedge, \\land, &&, &, /\\, \u2227",n.a.createElement("br",null),"Disjunction symbols : \\vee, \\lor, ||, |, \\/, \u2228",n.a.createElement("br",null),"Implication symbols : \\to, \u2192, ->",n.a.createElement("br",null),"Universal  symbols : \u2194\ufe0e, \u27f7, \u21d4, \u27fa, \u2261, ","<","->, ","<","--\x3e, ","<","=>, ","<","==>, ===, \\lequiv, \\leftrightarrow, \\equivalent, \\equiv",n.a.createElement("br",null),"Exist quantifier symbols : \\exists, \\e, \\E, \u2203",n.a.createElement("br",null),"Universal quantifier symbols : \\forall, \\a, \\A, \u2200 ")),u)}else"failed"===a&&(l=n.a.createElement(gt.a,{variant:"danger"},i));return l}));var Gt=be,Rt={update:Z},Dt=Object(o.b)(Gt,Rt)((function(e){var t=e.value,a=e.error,r=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Constants:"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter constants",value:t,onChange:function(e){return r(e.target.value)}}),n.a.createElement(Ft,{value:t,error:a}))}));var qt=he,Mt={update:ee},Bt=Object(o.b)(qt,Mt)((function(e){var t=e.value,a=e.error,r=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Predicates:"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter predicates",value:t,onChange:function(e){return r(e.target.value)}}),n.a.createElement(Ft,{value:t,error:a}))}));var Jt=ge,Kt={update:te},Ht=Object(o.b)(Jt,Kt)((function(e){var t=e.value,a=e.error,r=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Functions:"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter functions",value:t,onChange:function(e){return r(e.target.value)}}),n.a.createElement(Ft,{value:t,error:a}))}));var Qt=Object(o.b)((function(e){return{errorMessage:xe(e).errorMessage}}))((function(e){var t=e.errorMessage;return t?n.a.createElement("p",{className:"text-danger"},t):null}));var Yt=Se,$t={update:le},Xt=Object(o.b)(Yt,$t)((function(e){var t=e.value,a=e.error,r=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Preferred model constraints(optional):"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter constraints",value:t,as:"textarea",rows:1,onChange:function(e){return r(e.target.value)}}),n.a.createElement(Ft,{value:t,error:a}))}));var Zt=function(){return n.a.createElement("div",{className:"mt-4 mb-4"},n.a.createElement("h4",null,"Language"),n.a.createElement(Dt,null),n.a.createElement(Bt,null),n.a.createElement(Ht,null),n.a.createElement(Qt,null),n.a.createElement(Xt,null))};var ea={remove:oe,update:re,updateConstraints:ce},ta=Object(o.b)((function(e,t){var a=ke(e,t.i,t.j),r=we(e,t.i,t.j);return{value:a.value,error:a.error,value2:r.value,error2:r.error}}),ea)((function(e){var t=e.i,a=e.j,r=e.value,i=e.value2,s=e.error,o=e.error2,c=e.remove,l=e.update,u=e.updateConstraints;return n.a.createElement("div",{className:"clearfix pl-5"},n.a.createElement(St.a.Group,{className:"mb-0"},n.a.createElement(St.a.Label,null,"Formalization "+(t+1)+"."+(a+1)),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter formalization",value:r,as:"textarea",rows:1,onChange:function(e){return l(e.target.value,t,a)}}),n.a.createElement(Ft,{value:r,error:s}),n.a.createElement(St.a.Label,null,"Preferred model constraints "+(t+1)+"."+(a+1)+"(optional)"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter constraints",value:i,as:"textarea",rows:1,onChange:function(e){return u(e.target.value,t,a)}}),n.a.createElement(Ft,{value:i,error:o}),n.a.createElement(vt.a,{className:"mt-1 float-right",variant:"outline-danger",size:"sm",onClick:function(){return c(t,a)}},"Remove")))}));var aa={add:ie,remove:se,update:ae},ra=Object(o.b)((function(e,t){return{value:Oe(e,t.i),formalizations:ye(e,t.i)}}),aa)((function(e){var t=e.i,a=e.value,r=e.formalizations,i=e.add,s=e.remove,o=e.update,c=r.map((function(e,a){return n.a.createElement(ta,{key:a,i:t,j:a})}));return n.a.createElement("div",{className:"clearfix mb-2 border-bottom border-dark"},n.a.createElement(St.a.Group,{className:"clearfix mb-0"},n.a.createElement(St.a.Label,null,"Proposition "+(t+1)),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter proposition",value:a,onChange:function(e){return o(e.target.value,t)}}),n.a.createElement(vt.a,{className:"mt-1 mb-1 float-right",variant:"outline-danger",size:"sm",onClick:function(){return s(t)}},"Remove proposition"),""===a?n.a.createElement(St.a.Text,{className:"mb-3 text-danger"},"This field cannot be empty"):null),c,n.a.createElement(vt.a,{className:"mt-1 mb-3 float-right",variant:"primary",size:"sm",onClick:function(){return i(t)}},"Add formalization"))}));var na={add:ne},ia=Object(o.b)((function(e){return{propositions:je(e)}}),na)((function(e){var t=e.propositions,a=e.add,r=t.map((function(e,t){return n.a.createElement(ra,{key:t,i:t})}));return n.a.createElement("div",{className:"mt-4 mb-4 clearfix"},n.a.createElement("h4",null,"Propositions"),r,n.a.createElement(vt.a,{className:"mt-2 float-right",variant:"primary",size:"sm",onClick:function(){return a()}},"Add proposition"))}));var sa=Ee,oa={update:$},ca=Object(o.b)(sa,oa)((function(e){var t=e.value,a=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Exercise title:"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter exercise title",value:t,onChange:function(e){return a(e.target.value)}}),""===t?n.a.createElement(St.a.Text,{className:"mb-3 text-danger"},"This field cannot be empty"):null)}));var la=function(e){return{value:e.addExercise.description}},ua={update:X},da=Object(o.b)(la,ua)((function(e){var t=e.value,a=e.update;return n.a.createElement(St.a.Group,null,n.a.createElement(St.a.Label,null,"Description:"),n.a.createElement(St.a.Control,{type:"text",placeholder:"Enter description",value:t,onChange:function(e){return a(e.target.value)}}))}));var ma={addExercise:M},pa=Object(o.b)((function(e){return{status:e.addExercise.status,added:e.addExercise.added,error:e.addExercise.error,containsErrors:Ce(e),title:Ee(e).value}}),ma)((function(e){var t=e.status,a=e.error,r=e.containsErrors,i=e.title,s=e.addExercise,o=e.added,c=null;return"idle"===t?c=o?n.a.createElement(gt.a,{variant:"success"},"Exercise ",n.a.createElement("b",null,i)," was succefully added to the database."):n.a.createElement(St.a,null,n.a.createElement("h2",null,"Add exercise"),n.a.createElement(ca,null),n.a.createElement(da,null),n.a.createElement(Zt,null),n.a.createElement(ia,null),n.a.createElement(vt.a,{className:"mt-4 mb-5 float-right clearfix",variant:"primary",size:"lg",disabled:r,onClick:s},"Save exercise")):"loading"===t?c=n.a.createElement(wt.a,{animation:"border",variant:"primary"}):"failed"===t&&(c=n.a.createElement(gt.a,{variant:"danger"},a)),c})),fa=["isLoggedIn","isAdmin","component","location"];var va=Object(o.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,isAdmin:e.user.isAdmin}}))((function(e){var t=e.isLoggedIn,a=e.isAdmin,r=e.component,i=e.location,s=Object(yt.a)(e,fa);return n.a.createElement(jt.b,Object.assign({},s,{render:function(){return t?a?n.a.createElement(r,null):n.a.createElement(jt.a,{to:{pathname:"/",state:{from:i}}}):n.a.createElement(jt.a,{to:{pathname:"/login",state:{from:i}}})}}))})),Ea=a(98);var ba={fetchAllExercises:ze,fetchAllUsersToExercise:Pe},ha=Object(o.b)((function(e){return{exercises:Fe(e),status:Le(e),error:Ve(e)}}),ba)((function(e){var t=e.exercises,a=e.status,i=e.error,s=e.fetchAllExercises,o=e.fetchAllUsersToExercise;Object(r.useEffect)((function(){"idle"===a&&s()}),[a,s]);var c=null;if("loading"===a)c=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===a){var l=t.map((function(e){return n.a.createElement("tr",{key:e.exercise_id},n.a.createElement("td",null,n.a.createElement(xt.b,{to:"/progress/exercise/users",key:e.exercise_id,onClick:function(){return o(e.exercise_id)}},e.title)),n.a.createElement("td",null,e.attempted))}));c=n.a.createElement(Ea.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Exercise"),n.a.createElement("th",null,"Students attempted"))),n.a.createElement("tbody",null,l))}else"failed"===a&&(c=n.a.createElement(gt.a,{variant:"danger"},i));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"},"Student progress"),c)}));var ga=Object(o.b)((function(e){return{solutions:De(e),status:Me(e),error:Be(e),name:qe(e),title:Re(e)}}),{})((function(e){var t=e.solutions,a=e.users,i=e.status,s=e.error,o=e.name,c=e.id,l=e.title;Object(r.useEffect)((function(){"idle"===i&&Ue({exercise_id:c,user_name:o})}),[i,c,a,Ue]);var u=null;if("loading"===i)u=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===i){for(var d=[],m=[],p=null,f=!1,v=0;v<t.length;v++)null===p?(p=t[v].proposition,f=!0):p!==t[v].proposition&&f&&(d.push(n.a.createElement("h5",{key:p}," ",p)),d.push(n.a.createElement(Ea.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Solution"),n.a.createElement("th",null,"Correct"))),n.a.createElement("tbody",null,m))),m=[],p=t[v].proposition),t[v].is_correct?m.push(n.a.createElement("tr",{key:t[v].date},n.a.createElement("td",null,t[v].date.split(".")[0].replace("T"," ")+" "),n.a.createElement("td",null,t[v].solution),n.a.createElement("td",null,"  \u2713"))):m.push(n.a.createElement("tr",{key:t[v].date},n.a.createElement("td",null,t[v].date.split(".")[0].replace("T"," ")+" "),n.a.createElement("td",null,t[v].solution),n.a.createElement("td",null,"  \u2715")));d.push(n.a.createElement("h5",{key:p}," ",p)),d.push(n.a.createElement(Ea.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Date"),n.a.createElement("th",null,"Solution"),n.a.createElement("th",null,"Correct"))),n.a.createElement("tbody",null,m))),u=n.a.createElement("div",{key:d},d)}else"failed"===i&&(u=n.a.createElement(gt.a,{variant:"danger"},s));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"},l," by ",o," "),u)}));var xa={fetchUsersSolutions:Ue,fetchAllUsersToExercise:Pe},ja=Object(o.b)((function(e){return{users:Ge(e),status:Me(e),error:Be(e),title:Re(e)}}),xa)((function(e){var t=e.users,a=e.status,i=e.error,s=e.fetchAllUsersToExercise,o=e.fetchUsersSolutions,c=e.id,l=e.title;Object(r.useEffect)((function(){"idle"===a&&s(c)}),[a,c,t,s]);var u=null;if("loading"===a)u=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===a){for(var d=[],m=function(e){console.log(t[e]),t[e].lastattemptcorrec?d.push(n.a.createElement("tr",{key:t[e].user_name},n.a.createElement("td",null,n.a.createElement(xt.b,{to:"/progress/exercise/users/solutions",key:t[e].user_name,onClick:function(){return o({exercise_id:t[e].exercise_id,user_name:t[e].user_name})}},t[e].user_name)),n.a.createElement("td",null,t[e].solved," "),n.a.createElement("td",null,t[e].attempted," "),n.a.createElement("td",null,t[e].successful_attempts),n.a.createElement("td",null,"users[i].attempts}"),n.a.createElement("td",null,"users[i].huuu}"),n.a.createElement("td",null,t[e].last_attempt_date.split(".")[0].replace("T"," ")+" "," \u2713"))):d.push(n.a.createElement("tr",{key:t[e].user_name},n.a.createElement("td",null,n.a.createElement(xt.b,{to:"/progress/exercise/users/solutions",key:t[e].user_name,onClick:function(){return o({exercise_id:t[e].exercise_id,user_name:t[e].user_name})}},t[e].user_name)),n.a.createElement("td",null,t[e].solved," "),n.a.createElement("td",null,t[e].attempted," "),n.a.createElement("td",null,t[e].successful_attempts),n.a.createElement("td",null,t[e].attempts),n.a.createElement("td",null,t[e].last_attempt_date.split(".")[0].replace("T"," ")+" "," \u2715")))},p=0;p<t.length;p++)m(p);u=n.a.createElement(Ea.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null," "),n.a.createElement("th",{colSpan:2},"Propositions "),n.a.createElement("th",{colSpan:2},"Attempt"),n.a.createElement("th",null," ")),n.a.createElement("tr",null,n.a.createElement("th",null,"Student"),n.a.createElement("th",null,"Solved"),n.a.createElement("th",null,"Attempted"),n.a.createElement("th",null,"Successful"),n.a.createElement("th",null,"Total"),n.a.createElement("th",null,"Last attempt"))),n.a.createElement("tbody",null,d))}else"failed"===a&&(u=n.a.createElement(gt.a,{variant:"danger"},i));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"}," ",l," "),u)}));var ya={fetchAllUsers:it,addChanged:mt,saveAdmins:st},Oa=Object(o.b)((function(e){return{users:ct(e),status:lt(e),error:ut(e),changedAdmins:dt(e),user_name:Object(nt.e)(e)}}),ya)((function(e){var t=e.users,a=e.user_name,i=e.status,s=e.error,o=e.fetchAllUsers,c=e.addChanged,l=e.changedAdmins,u=e.saveAdmins;Object(r.useEffect)((function(){"idle"===i&&o(a)}),[i,o]);var d=null;if("loading"===i)d=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===i){var m=t.map((function(e){return n.a.createElement("tr",{key:e.user_name},n.a.createElement("td",null,e.user_name),n.a.createElement("td",null," ",n.a.createElement("input",{type:"checkbox",defaultChecked:e.is_admin,id:e.user_name,onChange:function(e){c(e.target.id)}})," "))}));d=n.a.createElement(St.a,null,n.a.createElement(Ea.a,{striped:!0,bordered:!0,hover:!0},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Username"),n.a.createElement("th",null,"Is admin"))),n.a.createElement("tbody",null,m)))}else"failed"===i&&(d=n.a.createElement(gt.a,{variant:"danger"},s));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"},"Users"),d,n.a.createElement(vt.a,{onClick:function(e){u(l)}},"Save admins"))}));var ka={saveExercise:B,removeExercise:J},wa=Object(o.b)((function(e){return{status:e.addExercise.status,error:e.addExercise.error,containsErrors:Ce(e),title:Ee(e).value}}),ka)((function(e){var t=e.status,a=e.error,r=e.containsErrors,i=e.removeExercise,s=e.saveExercise,o=null;return"idle"===t?o=n.a.createElement(St.a,null,n.a.createElement("h2",null,"Add exercise"),n.a.createElement(ca,null),n.a.createElement(da,null),n.a.createElement(Zt,null),n.a.createElement(ia,null),n.a.createElement(vt.a,{className:"mt-4 mb-5 float-right clearfix",variant:"primary",size:"lg",disabled:r,onClick:s},"Save exercise"),n.a.createElement(vt.a,{className:"mt-4 mb-5 float-left clearfix",variant:"danger",size:"lg",disabled:r,onClick:i},"Remove exercise")):"loading"===t?o=n.a.createElement(wt.a,{animation:"border",variant:"primary"}):"succeeded"===t?o=n.a.createElement(gt.a,{variant:"success"},"Exercise  was succefully changed to the database."):"removed"===t?o=n.a.createElement(gt.a,{variant:"success"},"Exercise  was succefully removed from database."):"failed"===t&&(o=n.a.createElement(gt.a,{variant:"danger"},a)),o}));var Sa={fetchAllExercises:ze,fetchSavedExercise:K},_a=Object(o.b)((function(e){return{exercises:Fe(e),status:Le(e),error:Ve(e)}}),Sa)((function(e){var t=e.exercises,a=e.status,i=e.error,s=e.fetchAllExercises,o=e.fetchSavedExercise;Object(r.useEffect)((function(){"idle"===a&&s()}),[a,s]);var c=null;if("loading"===a)c=n.a.createElement(wt.a,{animation:"border",variant:"primary"});else if("succeeded"===a){var l=t.map((function(e){return n.a.createElement(zt.a.Item,{as:xt.b,to:"/edit/".concat(e.exercise_id),key:e.exercise_id,variant:"primary",action:!0,onClick:function(){return o(e.exercise_id)}},e.title)}));c=n.a.createElement(zt.a,null,l)}else"failed"===a&&(c=n.a.createElement(gt.a,{variant:"danger"},i));return n.a.createElement("div",null,n.a.createElement("h2",{className:"mb-4"},"Exercises"),c)}));var Ca={logOut:nt.d,changeStatus:ue,changeExerciseStatus:Te},Na=Object(o.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,isAdmin:e.user.isAdmin,user:e.user.user}}),Ca)((function(e){var t=e.isLoggedIn,a=e.user,r=e.logOut,i=e.changeStatus,s=e.changeExerciseStatus,o=e.isAdmin,c=null;return c=t?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",{className:"px-4 my-auto text-info"},"You are logged in as ",n.a.createElement("b",null,a.username)),n.a.createElement(vt.a,{as:xt.b,to:"/",onClick:function(){return r()}},"Log out")):n.a.createElement(vt.a,{as:xt.b,to:"/login"},"Log in"),o?n.a.createElement(xt.a,{basename:_t.BASE_NAME},n.a.createElement("div",{className:"App"},n.a.createElement(Et.a,{bg:"dark",variant:"dark",sticky:"top"},n.a.createElement(bt.a,{className:"mr-auto"},n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/",onClick:function(){return s()}},"Home"),n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/add",onClick:function(){return i()}},"Add"),n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/edit",onClick:function(){return s()}},"Edit"),n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/progress",onClick:function(){return s()}},"Student progress"),n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/admins"},"Admin")),n.a.createElement(bt.a,null,c)),n.a.createElement(ht.a,{className:"my-3"},n.a.createElement(jt.d,null,n.a.createElement(kt,{exact:!0,path:"/",component:Tt}),n.a.createElement(va,{exact:!0,path:"/admins",component:Oa}),n.a.createElement(va,{exact:!0,path:"/progress",component:ha}),n.a.createElement(va,{exact:!0,path:"/progress/exercise/users",component:ja}),n.a.createElement(va,{exact:!0,path:"/progress/exercise/users/solutions",component:ga}),n.a.createElement(jt.b,{exact:!0,path:"/login",component:Nt}),n.a.createElement(kt,{path:"/solve/:id",component:Wt}),n.a.createElement(va,{exact:!0,path:"/add",component:pa}),n.a.createElement(va,{exact:!0,path:"/edit",component:_a}),n.a.createElement(va,{exact:!0,path:"/edit/:id",component:wa}),n.a.createElement(jt.b,{path:"*",component:function(){return n.a.createElement(gt.a,{variant:"danger"},"404 Not Found")}}))))):n.a.createElement(xt.a,{basename:_t.BASE_NAME},n.a.createElement("div",{className:"App"},n.a.createElement(Et.a,{bg:"dark",variant:"dark",sticky:"top"},n.a.createElement(bt.a,{className:"mr-auto"},n.a.createElement(bt.a.Link,{className:"px-4",as:xt.b,to:"/",onClick:function(){return s()}},"Home")),n.a.createElement(bt.a,null,c)),n.a.createElement(ht.a,{className:"my-3"},n.a.createElement(jt.d,null,n.a.createElement(kt,{exact:!0,path:"/",component:Tt}),n.a.createElement(jt.b,{exact:!0,path:"/login",component:Nt}),n.a.createElement(kt,{path:"/solve/:id",component:Wt}),n.a.createElement(jt.b,{path:"*",component:function(){return n.a.createElement(gt.a,{variant:"danger"},"404 Not Found")}})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(o.a,{store:ft},n.a.createElement(Na,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[61,1,2]]]);
//# sourceMappingURL=main.1d38a893.chunk.js.map